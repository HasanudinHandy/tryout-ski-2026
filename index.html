<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>TRY OUT SKI 2026 – CBT ONLINE</title>
<style>
body{font-family:Arial;margin:30px}
#quiz div{margin-bottom:15px;padding:10px;border:1px solid #ddd}
button{padding:10px 20px;background:green;color:white;border:none;border-radius:5px}
</style>
</head>
<body>

<h2>TRY OUT SKI 2026 – CBT ONLINE</h2>

<label>Nama Peserta:
<input type="text" id="nama">
</label>

<p>Waktu Tersisa: <span id="timer">90:00</span></p>

<button onclick="submitQuiz()">Selesai</button>

<hr>

<div id="quiz"></div>

<script>

let timerInterval;
let time = 90 * 60;

function startTimer(){
timerInterval = setInterval(()=>{
let minutes = Math.floor(time/60);
let seconds = time % 60;
document.getElementById("timer").innerText =
minutes + ":" + (seconds<10?"0":"") + seconds;
time--;
if(time < 0){
clearInterval(timerInterval);
submitQuiz();
}
},1000);
}

const questions = [];

for(let i=1;i<=70;i++){
questions.push({
question:"Soal SKI nomor "+i,
options:["A","B","C","D","E"],
answer:Math.floor(Math.random()*5)
});
}

function renderQuiz(){
const quizContainer = document.getElementById("quiz");
quizContainer.innerHTML = "";

questions.forEach((q,index)=>{
const div = document.createElement("div");
div.innerHTML = "<b>"+(index+1)+". "+q.question+"</b><br>";

q.options.forEach((opt,i)=>{
div.innerHTML += `
<label>
<input type="radio" name="q${index}" value="${i}">
${opt}
</label><br>
`;
});

quizContainer.appendChild(div);
});
}

function submitQuiz(){

clearInterval(timerInterval);

let skor = 0;

questions.forEach((q,index)=>{
let selected = document.querySelector(`input[name="q${index}"]:checked`);
if(selected && parseInt(selected.value) === q.answer){
skor++;
}
});

skor = Math.round((skor/70)*100);

let nama = document.getElementById("nama").value;

alert("Nilai Anda: " + skor);

fetch("https://script.google.com/macros/s/AKfycbwdaKINigs8GUDizVVL9KdyhA3rBWK_oxLsMztp-QaqoVzlimTbx8XAhVfgeW1iTEDW/exec", {
method: "POST",
body: JSON.stringify({
nama: nama,
sekolah: "-",
skor: skor
})
});
}

window.onload = function(){
renderQuiz();
startTimer();
}

</script>

</body>
</html>
